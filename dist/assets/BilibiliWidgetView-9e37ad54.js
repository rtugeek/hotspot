var d=(e,l,i)=>new Promise((c,o)=>{var _=t=>{try{r(i.next(t))}catch(a){o(a)}},s=t=>{try{r(i.throw(t))}catch(a){o(a)}},r=t=>t.done?c(t.value):Promise.resolve(t.value).then(_,s);r((i=i.apply(e,l)).next())});import{a as g}from"./axios-3e440490.js";import{d as b,W as f,r as w,i as v,n as x,o as n,j as u,w as p,c as m,F as k,l as y,b as B,u as C,B as W,p as I,m as L,a as h,_ as H}from"./index-30531af1.js";import{u as F,H as P,a as S}from"./HotspotBox-97c1549c.js";const V="/hotspot/assets/bilibili_tv-682f480d.png",$=e=>(I("data-v-4571a9d1"),e=e(),L(),e),N=$(()=>h("div",{class:"bilibili-header"},[h("img",{src:V,style:{"margin-right":"8px"},height:"18",alt:""}),h("div",{class:"bilibili-title"},"bilibili热搜")],-1)),U=["src"],j=b({__name:"BilibiliWidget",setup(e){const l=f.fromCurrentLocation(),i=w([]);v(()=>d(this,null,function*(){yield x(),yield o()})),F(()=>{o(),console.log("refresh")},20*60*1e3);function c(s){W.openUrl(`https://search.bilibili.com/all?keyword=${s}`)}function o(){return d(this,null,function*(){const s=yield _.get("/main/hotword");i.value=s.data.list,console.info("bilibili hot list",s.data.list)})}const _=g.create({baseURL:"https://s.search.bilibili.com/",withCredentials:!0,timeout:5e4});return(s,r)=>(n(),u(S,{class:"bilibili-box",height:C(l).heightPx},{header:p(()=>[N]),body:p(()=>[(n(!0),m(k,null,y(i.value,(t,a)=>(n(),u(P,{onClick:E=>c(t.keyword),key:a,title:t.show_name,position:a+1},{append:p(()=>[t.icon?(n(),m("img",{key:0,src:t.icon,style:{height:"18px"},alt:""},null,8,U)):B("",!0)]),_:2},1032,["onClick","title","position"]))),128))]),_:1},8,["height"]))}});const A=H(j,[["__scopeId","data-v-4571a9d1"]]),z=b({__name:"BilibiliWidgetView",setup(e){return(l,i)=>(n(),u(A))}});export{z as default};
