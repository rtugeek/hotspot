import{a as x}from"./axios-760d4776.js";import{d as w,o,c as a,r as B,a as P,t as c,_ as y,b as m,W as S,e as $,f as e,F as i,g as d,h as b,i as L,n as U,p as j,j as C}from"./index-ec9ddc93.js";const q="/hotspot/logo.png",N={class:"bubbly-button"},R=w({__name:"BubblyButton",props:{color:{type:String,default:"#4d89ea"},label:{type:String}},setup(l){return(t,r)=>(o(),a("button",N,[B(t.$slots,"icon",{},void 0,!0),P(" "+c(l.label),1)]))}});const h=y(R,[["__scopeId","data-v-608f4341"]]),_=l=>(j("data-v-e87c452a"),l=l(),C(),l),V={class:"widget-landing-page"},A={class:"widget-package-box"},T={class:"flex desc"},D=_(()=>e("img",{alt:"logo",class:"logo",src:q},null,-1)),F={class:"package-info flex-col"},W={class:"title"},z=_(()=>e("div",null,null,-1)),E={class:"widget-tag-group"},O={class:"marquee"},G={class:"marquee__group"},H=["src"],J={class:"marquee__group"},K=["src"],M={key:1,class:"error"},Q=_(()=>e("p",null,"加载失败",-1)),X=w({__name:"LandingPage",setup(l){const t=m(),r=m();x.get("/hotspot//widget.json").then(n=>{t.value=S.parseObject(n.data)}).catch(n=>{r.value=n});const f=$(()=>`widget://widgetjs.cn/package?url=${encodeURIComponent(t.value.remotePackage)}`),k=()=>{window.open("https://widgetjs.cn/")},I=()=>{window.location.href=f.value},u=n=>{var p,v;const g=((v=(p=t.value)==null?void 0:p.remote)==null?void 0:v.base)??"./",s=`${window.location.origin}${g}${n}`;return U(s)};return(n,g)=>(o(),a("div",V,[e("div",A,[t.value?(o(),a(i,{key:0},[e("div",T,[D,e("div",F,[e("div",W,c(t.value.getTitle()),1),e("div",null,c(t.value.getDescription()),1),z,e("div",E,[(o(!0),a(i,null,d(t.value.widgets,s=>(o(),a("div",{class:"widget-tag",key:s.name},c(s.getTitle()),1))),128))])]),b(h,{style:{"margin-left":"auto"},label:"在客户端打开",onClick:I,class:"bubbly-button"}),b(h,{onClick:k,class:"bubbly-button",label:"下载客户端"})]),e("div",O,[e("div",G,[(o(!0),a(i,null,d(t.value.widgets,s=>(o(),a("img",{key:s.name,src:u(s.previewImage)},null,8,H))),128))]),e("div",J,[(o(!0),a(i,null,d(t.value.widgets,s=>(o(),a("img",{key:s.name,src:u(s.previewImage)},null,8,K))),128))])])],64)):r.value?(o(),a("div",M,[Q,e("p",null,c(r.value.message),1),e("p",null,c(r.value.request.responseURL),1)])):L("",!0)])]))}});const ee=y(X,[["__scopeId","data-v-e87c452a"]]);export{ee as default};
