import{a as m}from"./axios.js";import{H as f,a as h}from"./HotspotBox.js";import{d as p,b as w,m as b,n as g,o as s,s as c,w as r,c as d,F as v,h as y,y as x,t as B,j as k,p as W,k as I,f as n,_ as S,i as C,v as L,R as H}from"./index.js";import{u as V}from"./index3.js";const F="/hotspot/assets/weibo.svg",N=o=>(W("data-v-3e8f58d2"),o=o(),I(),o),R=N(()=>n("div",{class:"weibo_header"},[n("img",{src:F,style:{"margin-right":"8px"},height:"18",alt:""}),n("div",{class:"weibo-top-nav"},"微博热搜")],-1)),j=p({__name:"WeiBoWidget",setup(o){const a=w([]);b(async()=>{await g(),await l()}),V(()=>{l(),console.log("refresh")},20*60*1e3);function i(e){return e.icon_desc?e.icon_desc:e.label_name?e.label_name:e.small_icon_desc}async function l(){const e=await u.get("/ajax/side/hotSearch");a.value=e.data.data.realtime,console.info("weibo hot list",a.value)}const u=m.create({baseURL:"https://weibo.com",withCredentials:!0,timeout:5e4});return(e,q)=>(s(),c(h,{class:"weibo-box"},{header:r(()=>[R]),body:r(()=>[(s(!0),d(v,null,y(a.value,(t,_)=>(s(),c(f,{key:_,url:`https://s.weibo.com/weibo?q=${t.word}`,title:t.word,position:_+1},{append:r(()=>[i(t)?(s(),d("span",{key:0,class:"weibo-label",style:x({backgroundColor:t.small_icon_desc_color})},B(i(t)),5)):k("",!0)]),_:2},1032,["url","title","position"]))),128))]),_:1}))}});const $=S(j,[["__scopeId","data-v-3e8f58d2"]]),M=p({__name:"WeiBoWidgetView",setup(o){return(a,i)=>(s(),c(L(H),{"shadow-color":"#a8a8a8"},{default:r(()=>[C($)]),_:1}))}});export{M as default};
