import{a as f}from"./axios.js";import{u as h,H as w,a as m}from"./HotspotBox.js";import{d as p,b,n as g,q as v,o,s as i,w as r,c as d,F as y,h as x,y as B,t as k,j as W,p as I,k as S,f as c,_ as C,i as L,v as H,R as V}from"./index.js";const F="/hotspot/assets/weibo.svg",N=s=>(I("data-v-3e8f58d2"),s=s(),S(),s),R=N(()=>c("div",{class:"weibo_header"},[c("img",{src:F,style:{"margin-right":"8px"},height:"18",alt:""}),c("div",{class:"weibo-top-nav"},"微博热搜")],-1)),j=p({__name:"WeiBoWidget",setup(s){const a=b([]);g(async()=>{await v(),await l()}),h(()=>{l(),console.log("refresh")},20*60*1e3);function n(e){return e.icon_desc?e.icon_desc:e.label_name?e.label_name:e.small_icon_desc}async function l(){const e=await u.get("/ajax/side/hotSearch");a.value=e.data.data.realtime,console.info("weibo hot list",a.value)}const u=f.create({baseURL:"https://weibo.com",withCredentials:!0,timeout:5e4});return(e,$)=>(o(),i(m,{class:"weibo-box"},{header:r(()=>[R]),body:r(()=>[(o(!0),d(y,null,x(a.value,(t,_)=>(o(),i(w,{key:_,url:`https://s.weibo.com/weibo?q=${t.word}`,title:t.word,position:_+1},{append:r(()=>[n(t)?(o(),d("span",{key:0,class:"weibo-label",style:B({backgroundColor:t.small_icon_desc_color})},k(n(t)),5)):W("",!0)]),_:2},1032,["url","title","position"]))),128))]),_:1}))}});const q=C(j,[["__scopeId","data-v-3e8f58d2"]]),E=p({__name:"WeiBoWidgetView",setup(s){return(a,n)=>(o(),i(H(V),{"shadow-color":"#a8a8a8"},{default:r(()=>[L(q)]),_:1}))}});export{E as default};
