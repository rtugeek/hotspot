import{a as x}from"./axios-4d564c32.js";import{d as f,o,c as a,r as B,a as P,t as c,_ as w,b as m,W as S,e as $,f as e,F as r,g as d,h as b,i as L,n as U,p as j,j as C}from"./index-d519712e.js";const q="/hotspot/logo.png",N={class:"bubbly-button"},R=f({__name:"BubblyButton",props:{color:{type:String,default:"#4d89ea"},label:{type:String}},setup(l){return(t,i)=>(o(),a("button",N,[B(t.$slots,"icon",{},void 0,!0),P(" "+c(l.label),1)]))}});const h=w(R,[["__scopeId","data-v-7ed854a2"]]),_=l=>(j("data-v-375af965"),l=l(),C(),l),V={class:"widget-landing-page"},A={class:"widget-package-box"},T={class:"flex desc"},D=_(()=>e("img",{alt:"logo",class:"logo",src:q},null,-1)),F={class:"package-info flex-col"},W={class:"title"},z=_(()=>e("div",null,null,-1)),E={class:"widget-tag-group"},O={class:"marquee"},G={class:"marquee__group"},H=["src"],J={class:"marquee__group"},K=["src"],M={key:1,class:"error"},Q=_(()=>e("p",null,"加载失败",-1)),X=f({__name:"LandingPage",setup(l){const t=m(),i=m();x.get("/hotspot//widget.json").then(n=>{t.value=S.parseObject(n.data)}).catch(n=>{i.value=n});const y=$(()=>`widget://widgetjs.cn/package?url=${encodeURIComponent(t.value.remotePackage)}`);function k(){window.open("https://widgetjs.cn/")}function I(){window.location.href=y.value}function u(n){var p,v;const g=((v=(p=t.value)==null?void 0:p.remote)==null?void 0:v.base)??"./",s=`${window.location.origin}${g}${n}`;return U(s)}return(n,g)=>(o(),a("div",V,[e("div",A,[t.value?(o(),a(r,{key:0},[e("div",T,[D,e("div",F,[e("div",W,c(t.value.getTitle()),1),e("div",null,c(t.value.getDescription()),1),z,e("div",E,[(o(!0),a(r,null,d(t.value.widgets,s=>(o(),a("div",{key:s.name,class:"widget-tag"},c(s.getTitle()),1))),128))])]),b(h,{style:{"margin-left":"auto"},label:"在客户端打开",class:"bubbly-button",onClick:I}),b(h,{class:"bubbly-button",label:"下载客户端",onClick:k})]),e("div",O,[e("div",G,[(o(!0),a(r,null,d(t.value.widgets,s=>(o(),a("img",{key:s.name,src:u(s.previewImage)},null,8,H))),128))]),e("div",J,[(o(!0),a(r,null,d(t.value.widgets,s=>(o(),a("img",{key:s.name,src:u(s.previewImage)},null,8,K))),128))])])],64)):i.value?(o(),a("div",M,[Q,e("p",null,c(i.value.message),1),e("p",null,c(i.value.request.responseURL),1)])):L("",!0)])]))}});const ee=w(X,[["__scopeId","data-v-375af965"]]);export{ee as default};
