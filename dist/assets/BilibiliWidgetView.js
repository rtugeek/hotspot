import{a as u}from"./axios.js";import{d as p,x as b,b as g,m as f,n as w,o as e,s as r,w as s,c as d,F as v,h as x,j as y,v as h,p as k,k as B,f as c,_ as I,i as C,R as L}from"./index.js";import{H as W,a as H}from"./HotspotBox.js";import{u as V}from"./index2.js";const F="/hotspot/assets/bilibili_tv.png",N=t=>(k("data-v-a4ce39c2"),t=t(),B(),t),P=N(()=>c("div",{class:"bilibili-header"},[c("img",{src:F,style:{"margin-right":"8px"},height:"18",alt:""}),c("div",{class:"bilibili-title"},"bilibili热搜")],-1)),R=["src"],S=p({__name:"BilibiliWidget",setup(t){const l=b.fromCurrentLocation(),a=g([]);f(async()=>{await w(),await n()}),V(()=>{n(),console.log("refresh")},20*60*1e3);async function n(){const o=await m.get("/main/hotword");a.value=o.data.list,console.info("bilibili hot list",o.data.list)}const m=u.create({baseURL:"https://s.search.bilibili.com/",withCredentials:!0,timeout:5e4});return(o,j)=>(e(),r(H,{class:"bilibili-box",height:h(l).heightPx},{header:s(()=>[P]),body:s(()=>[(e(!0),d(v,null,x(a.value,(i,_)=>(e(),r(W,{url:`https://search.bilibili.com/all?keyword=${i.keyword}`,key:_,title:i.show_name,position:_+1},{append:s(()=>[i.icon?(e(),d("img",{key:0,src:i.icon,style:{height:"18px"},alt:""},null,8,R)):y("",!0)]),_:2},1032,["url","title","position"]))),128))]),_:1},8,["height"]))}});const $=I(S,[["__scopeId","data-v-a4ce39c2"]]),U=p({__name:"BilibiliWidgetView",setup(t){return(l,a)=>(e(),r(h(L),{"shadow-color":"#27a4ff"},{default:s(()=>[C($)]),_:1}))}});export{U as default};
