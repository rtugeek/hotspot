var d=(i,l,t)=>new Promise((c,o)=>{var _=e=>{try{r(t.next(e))}catch(a){o(a)}},s=e=>{try{r(t.throw(e))}catch(a){o(a)}},r=e=>e.done?c(e.value):Promise.resolve(e.value).then(_,s);r((t=t.apply(i,l)).next())});import{u as g,a as w,H as f,b as v}from"./HotspotBox.js";import{d as m,W as x,r as k,o as y,n as B,a as n,b as u,w as p,g as b,F as C,h as W,i as I,u as L,B as H,p as F,j as P,e as h,_ as S}from"./index.js";const V="/hotspot/assets/bilibili_tv.png",$=i=>(F("data-v-4571a9d1"),i=i(),P(),i),N=$(()=>h("div",{class:"bilibili-header"},[h("img",{src:V,style:{"margin-right":"8px"},height:"18",alt:""}),h("div",{class:"bilibili-title"},"bilibili热搜")],-1)),U=["src"],j=m({__name:"BilibiliWidget",setup(i){const l=x.fromCurrentLocation(),t=k([]);y(()=>d(this,null,function*(){yield B(),yield o()})),g(()=>{o(),console.log("refresh")},20*60*1e3);function c(s){H.openUrl(`https://search.bilibili.com/all?keyword=${s}`)}function o(){return d(this,null,function*(){const s=yield _.get("/main/hotword");t.value=s.data.list,console.info("bilibili hot list",s.data.list)})}const _=w.create({baseURL:"https://s.search.bilibili.com/",withCredentials:!0,timeout:5e4});return(s,r)=>(n(),u(v,{class:"bilibili-box",height:L(l).heightPx},{header:p(()=>[N]),body:p(()=>[(n(!0),b(C,null,W(t.value,(e,a)=>(n(),u(f,{onClick:E=>c(e.keyword),key:a,title:e.show_name,position:a+1},{append:p(()=>[e.icon?(n(),b("img",{key:0,src:e.icon,style:{height:"18px"},alt:""},null,8,U)):I("",!0)]),_:2},1032,["onClick","title","position"]))),128))]),_:1},8,["height"]))}});const A=S(j,[["__scopeId","data-v-4571a9d1"]]),q=m({__name:"BilibiliWidgetView",setup(i){return(l,t)=>(n(),u(A))}});export{q as default};
