import{a as b}from"./axios.js";import{d as p,x as m,b as g,n as f,q as w,o as e,s as r,w as s,c as d,F as v,h as x,j as y,v as h,p as k,k as B,f as l,_ as I,i as C,R as L}from"./index.js";import{u as W,H,a as V}from"./HotspotBox.js";const F="/hotspot/assets/bilibili_tv.png",N=t=>(k("data-v-27b27774"),t=t(),B(),t),P=N(()=>l("div",{class:"bilibili-header"},[l("img",{src:F,style:{"margin-right":"8px"},height:"18",alt:""}),l("div",{class:"bilibili-title"},"bilibili热搜")],-1)),R=["src"],S=p({__name:"BilibiliWidget",setup(t){const c=m.fromCurrentLocation(),a=g([]);f(async()=>{await w(),await n()}),W(()=>{n(),console.log("refresh")},20*60*1e3);async function n(){const o=await u.get("/main/hotword");a.value=o.data.list,console.info("bilibili hot list",o.data.list)}const u=b.create({baseURL:"https://s.search.bilibili.com/",withCredentials:!0,timeout:5e4});return(o,j)=>(e(),r(V,{class:"bilibili-box",height:h(c).heightPx},{header:s(()=>[P]),body:s(()=>[(e(!0),d(v,null,x(a.value,(i,_)=>(e(),r(H,{url:`https://search.bilibili.com/all?keyword=${i.keyword}`,key:_,title:i.show_name,position:_+1},{append:s(()=>[i.icon?(e(),d("img",{key:0,src:i.icon,style:{height:"18px"},alt:""},null,8,R)):y("",!0)]),_:2},1032,["url","title","position"]))),128))]),_:1},8,["height"]))}});const $=I(S,[["__scopeId","data-v-27b27774"]]),M=p({__name:"BilibiliWidgetView",setup(t){return(c,a)=>(e(),r(h(L),{"shadow-color":"#27a4ff"},{default:s(()=>[C($)]),_:1}))}});export{M as default};
