var _=(s,n,o)=>new Promise((d,r)=>{var c=a=>{try{e(o.next(a))}catch(t){r(t)}},p=a=>{try{e(o.throw(a))}catch(t){r(t)}},e=a=>a.done?d(a.value):Promise.resolve(a.value).then(c,p);e((o=o.apply(s,n)).next())});import{u as v,a as m,H as y,b as x}from"./HotspotBox.js";import{d as b,W as F,r as k,o as C,n as B,a as i,b as g,w as h,g as f,F as L,h as V,t as W,i as D,u as I,B as q,p as M,j as S,e as l,q as H,_ as N}from"./index.js";const z=[{label:0,title:""},{label:1,title:"新",backgroundColor:"#c757d8"},{label:3,title:"热",backgroundColor:"#ff1f52"},{label:5,title:"首发",backgroundColor:"#fd39d0"},{label:8,title:"独家",backgroundColor:"#fc2eba"},{label:9,title:""}],P=s=>(M("data-v-a6a724e0"),s=s(),S(),s),T=P(()=>l("div",{style:{color:"white"},class:"header"},[l("svg",{t:"1678001437744",class:"logo",viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"2103",width:"200",height:"200"},[l("path",{d:"M0 0m184.32 0l655.36 0q184.32 0 184.32 184.32l0 655.36q0 184.32-184.32 184.32l-655.36 0q-184.32 0-184.32-184.32l0-655.36q0-184.32 184.32-184.32Z",fill:"#111111","p-id":"2104"}),l("path",{d:"M204.27776 670.59712a246.25152 246.25152 0 0 1 245.97504-245.97504v147.57888a98.49856 98.49856 0 0 0-98.38592 98.38592c0 48.34304 26.14272 100.352 83.54816 100.352 3.81952 0 93.55264-0.88064 93.55264-77.19936V134.35904h157.26592a133.31456 133.31456 0 0 0 133.12 132.99712l-0.13312 147.31264a273.152 273.152 0 0 1-142.62272-38.912l-0.06144 317.98272c0 146.00192-124.24192 224.77824-241.14176 224.77824-131.74784 0.03072-231.1168-106.56768-231.1168-247.92064z",fill:"#FF4040","p-id":"2105"}),l("path",{d:"M164.92544 631.23456a246.25152 246.25152 0 0 1 245.97504-245.97504v147.57888a98.49856 98.49856 0 0 0-98.38592 98.38592c0 48.34304 26.14272 100.352 83.54816 100.352 3.81952 0 93.55264-0.88064 93.55264-77.19936V94.99648h157.26592a133.31456 133.31456 0 0 0 133.12 132.99712l-0.13312 147.31264a273.152 273.152 0 0 1-142.62272-38.912l-0.06144 317.98272c0 146.00192-124.24192 224.77824-241.14176 224.77824-131.74784 0.03072-231.1168-106.56768-231.1168-247.92064z",fill:"#00F5FF","p-id":"2106"}),l("path",{d:"M410.91072 427.58144c-158.8224 20.15232-284.44672 222.72-154.112 405.00224 120.40192 98.47808 373.68832 41.20576 380.70272-171.85792l-0.17408-324.1472a280.7296 280.7296 0 0 0 142.88896 38.62528V261.2224a144.98816 144.98816 0 0 1-72.8064-54.82496 135.23968 135.23968 0 0 1-54.70208-72.45824h-123.66848l-0.08192 561.41824c-0.11264 78.46912-130.9696 106.41408-164.18816 30.2592-83.18976-39.77216-64.37888-190.9248 46.31552-192.57344z",fill:"#FFFFFF","p-id":"2107"})]),H(" 抖音热榜")],-1)),$=["data"],U=b({__name:"DouyinWidget",setup(s){const n=F.fromCurrentLocation(),o=k([]);C(()=>_(this,null,function*(){yield B(),yield c()}));const d=e=>{const a=z.find(t=>t.label==e.label);if(a)return a;console.log(JSON.stringify(e))};v(()=>{c(),console.log("refresh")},20*60*1e3);function r(e){q.openUrl(`https://www.douyin.com/search/${e}`)}function c(){return _(this,null,function*(){const e=yield p.get("/aweme/v1/hot/search/list/");o.value=e.data.data.word_list,console.info("douyin hot list",e.data.data.word_list)})}const p=m.create({baseURL:"https://aweme.snssdk.com/",withCredentials:!0,timeout:5e4});return(e,a)=>(i(),g(x,{class:"hotspot-box",height:I(n).heightPx},{header:h(()=>[T]),body:h(()=>[(i(!0),f(L,null,V(o.value,(t,A)=>(i(),g(y,{onClick:u=>r(t.word),title:t.word,position:t.position},{append:h(()=>{var u,w;return[t.label>0?(i(),f("div",{key:0,class:"label",data:t.label},W((w=(u=d(t))==null?void 0:u.title)!=null?w:""),9,$)):D("",!0)]}),_:2},1032,["onClick","title","position"]))),256))]),_:1},8,["height"]))}});const j=N(U,[["__scopeId","data-v-a6a724e0"]]),R=b({__name:"DouyinWidgetView",setup(s){return(n,o)=>(i(),g(j))}});export{R as default};
