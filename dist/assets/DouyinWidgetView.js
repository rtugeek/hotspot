var _=(o,d,s)=>new Promise((c,p)=>{var t=a=>{try{e(s.next(a))}catch(l){p(l)}},n=a=>{try{e(s.throw(a))}catch(l){p(l)}},e=a=>a.done?c(a.value):Promise.resolve(a.value).then(t,n);e((s=s.apply(o,d)).next())});import{a as g}from"./axios.js";import{u as v,H as m,a as y}from"./HotspotBox.js";import{d as b,b as x,m as F,n as k,o as r,q as f,w as u,c as w,F as C,h as V,t as B,u as D,p as I,j as L,f as i,a as q,_ as M,i as N,v as S,R as H}from"./index.js";const W=[{label:0,title:""},{label:1,title:"新",backgroundColor:"#c757d8"},{label:3,title:"热",backgroundColor:"#ff1f52"},{label:5,title:"首发",backgroundColor:"#fd39d0"},{label:8,title:"独家",backgroundColor:"#fc2eba"},{label:9,title:""}],z=o=>(I("data-v-dfd0f31b"),o=o(),L(),o),R=z(()=>i("div",{style:{color:"white"},class:"header"},[i("svg",{t:"1678001437744",class:"logo",viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"2103",width:"200",height:"200"},[i("path",{d:"M0 0m184.32 0l655.36 0q184.32 0 184.32 184.32l0 655.36q0 184.32-184.32 184.32l-655.36 0q-184.32 0-184.32-184.32l0-655.36q0-184.32 184.32-184.32Z",fill:"#111111","p-id":"2104"}),i("path",{d:"M204.27776 670.59712a246.25152 246.25152 0 0 1 245.97504-245.97504v147.57888a98.49856 98.49856 0 0 0-98.38592 98.38592c0 48.34304 26.14272 100.352 83.54816 100.352 3.81952 0 93.55264-0.88064 93.55264-77.19936V134.35904h157.26592a133.31456 133.31456 0 0 0 133.12 132.99712l-0.13312 147.31264a273.152 273.152 0 0 1-142.62272-38.912l-0.06144 317.98272c0 146.00192-124.24192 224.77824-241.14176 224.77824-131.74784 0.03072-231.1168-106.56768-231.1168-247.92064z",fill:"#FF4040","p-id":"2105"}),i("path",{d:"M164.92544 631.23456a246.25152 246.25152 0 0 1 245.97504-245.97504v147.57888a98.49856 98.49856 0 0 0-98.38592 98.38592c0 48.34304 26.14272 100.352 83.54816 100.352 3.81952 0 93.55264-0.88064 93.55264-77.19936V94.99648h157.26592a133.31456 133.31456 0 0 0 133.12 132.99712l-0.13312 147.31264a273.152 273.152 0 0 1-142.62272-38.912l-0.06144 317.98272c0 146.00192-124.24192 224.77824-241.14176 224.77824-131.74784 0.03072-231.1168-106.56768-231.1168-247.92064z",fill:"#00F5FF","p-id":"2106"}),i("path",{d:"M410.91072 427.58144c-158.8224 20.15232-284.44672 222.72-154.112 405.00224 120.40192 98.47808 373.68832 41.20576 380.70272-171.85792l-0.17408-324.1472a280.7296 280.7296 0 0 0 142.88896 38.62528V261.2224a144.98816 144.98816 0 0 1-72.8064-54.82496 135.23968 135.23968 0 0 1-54.70208-72.45824h-123.66848l-0.08192 561.41824c-0.11264 78.46912-130.9696 106.41408-164.18816 30.2592-83.18976-39.77216-64.37888-190.9248 46.31552-192.57344z",fill:"#FFFFFF","p-id":"2107"})]),q(" 抖音热榜 ")],-1)),T=["data"],$=b({__name:"DouyinWidget",setup(o){const d=x([]);F(()=>_(this,null,function*(){yield k(),yield c()}));const s=t=>{const n=W.find(e=>e.label==t.label);if(n)return n;console.log(JSON.stringify(t))};v(()=>{c(),console.log("refresh")},20*60*1e3);function c(){return _(this,null,function*(){const t=yield p.get("/aweme/v1/hot/search/list/");d.value=t.data.data.word_list,console.info("douyin hot list",t.data.data.word_list)})}const p=g.create({baseURL:"https://aweme.snssdk.com/",withCredentials:!0,timeout:5e4});return(t,n)=>(r(),f(y,{class:"hotspot-box"},{header:u(()=>[R]),body:u(()=>[(r(!0),w(C,null,V(d.value,(e,a)=>(r(),f(m,{url:`https://www.douyin.com/search/${e.word}`,title:e.word,position:e.position},{append:u(()=>{var l,h;return[e.label>0?(r(),w("div",{key:0,class:"label",data:e.label},B((h=(l=s(e))==null?void 0:l.title)!=null?h:""),9,T)):D("",!0)]}),_:2},1032,["url","title","position"]))),256))]),_:1}))}});const j=M($,[["__scopeId","data-v-dfd0f31b"]]),U=b({__name:"DouyinWidgetView",setup(o){return(d,s)=>(r(),f(S(H),{"shadow-color":"#383a58"},{default:u(()=>[N(j)]),_:1}))}});export{U as default};
