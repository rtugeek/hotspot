import{a as m}from"./axios-760d4776.js";import{H as f,a as h}from"./HotspotBox-5ed2c7c5.js";import{d as p,b as w,m as b,n as g,o as t,s as c,w as r,c as d,F as v,h as y,y as x,t as B,j as k,p as W,k as I,f as n,_ as S,i as C,v as L,R as H}from"./index-76f899f4.js";import{u as V}from"./index-5aed9b54.js";const F="/hotspot/assets/weibo-74134e01.svg",N=a=>(W("data-v-359a2f98"),a=a(),I(),a),R=N(()=>n("div",{class:"weibo_header"},[n("img",{src:F,style:{"margin-right":"8px"},height:"18",alt:""}),n("div",{class:"weibo-top-nav"},"微博热搜")],-1)),j=p({__name:"WeiBoWidget",setup(a){const s=w([]);b(async()=>{await g(),await l()}),V(()=>{l(),console.log("refresh")},20*60*1e3);function i(e){return e.icon_desc?e.icon_desc:e.label_name?e.label_name:e.small_icon_desc}async function l(){const e=await u.get("/ajax/side/hotSearch");s.value=e.data.data.realtime,console.info("weibo hot list",s.value)}const u=m.create({baseURL:"https://weibo.com",withCredentials:!0,timeout:5e4});return(e,q)=>(t(),c(h,{class:"weibo-box"},{header:r(()=>[R]),body:r(()=>[(t(!0),d(v,null,y(s.value,(o,_)=>(t(),c(f,{key:_,url:`https://s.weibo.com/weibo?q=${o.word}`,title:o.word,position:_+1},{append:r(()=>[i(o)?(t(),d("span",{key:0,class:"weibo-label",style:x({backgroundColor:o.small_icon_desc_color})},B(i(o)),5)):k("",!0)]),_:2},1032,["url","title","position"]))),128))]),_:1}))}});const $=S(j,[["__scopeId","data-v-359a2f98"]]),M=p({__name:"WeiBoWidgetView",setup(a){return(s,i)=>(t(),c(L(H),{"shadow-color":"#a8a8a8"},{default:r(()=>[C($)]),_:1}))}});export{M as default};
