import{a as u}from"./axios-760d4776.js";import{d as p,x as b,b as g,l as f,m as w,o as e,s as r,w as s,c as d,F as v,g as x,i as y,v as h,p as B,j as k,f as c,_ as I,h as C,A as L}from"./index-ec9ddc93.js";import{H as W,a as H}from"./HotspotBox-40f78d1b.js";import{u as V}from"./index-90c1a839.js";const A="/hotspot/assets/bilibili_tv-682f480d.png",F=t=>(B("data-v-a4ce39c2"),t=t(),k(),t),N=F(()=>c("div",{class:"bilibili-header"},[c("img",{src:A,style:{"margin-right":"8px"},height:"18",alt:""}),c("div",{class:"bilibili-title"},"bilibili热搜")],-1)),P=["src"],S=p({__name:"BilibiliWidget",setup(t){const l=b.fromCurrentLocation(),a=g([]);f(async()=>{await w(),await n()}),V(()=>{n(),console.log("refresh")},20*60*1e3);async function n(){const o=await m.get("/main/hotword");a.value=o.data.list,console.info("bilibili hot list",o.data.list)}const m=u.create({baseURL:"https://s.search.bilibili.com/",withCredentials:!0,timeout:5e4});return(o,j)=>(e(),r(H,{class:"bilibili-box",height:h(l).heightPx},{header:s(()=>[N]),body:s(()=>[(e(!0),d(v,null,x(a.value,(i,_)=>(e(),r(W,{url:`https://search.bilibili.com/all?keyword=${i.keyword}`,key:_,title:i.show_name,position:_+1},{append:s(()=>[i.icon?(e(),d("img",{key:0,src:i.icon,style:{height:"18px"},alt:""},null,8,P)):y("",!0)]),_:2},1032,["url","title","position"]))),128))]),_:1},8,["height"]))}});const $=I(S,[["__scopeId","data-v-a4ce39c2"]]),U=p({__name:"BilibiliWidgetView",setup(t){return(l,a)=>(e(),r(h(L),{"shadow-color":"#27a4ff"},{default:s(()=>[C($)]),_:1}))}});export{U as default};
